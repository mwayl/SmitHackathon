<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="login.css">
    <title>Polling App</title>
   
</head>
<body>
  <div class="header">
    <h1 class="main-heading">Personal Blogging App</h1>
    <button class="sign-in"><a class="login-link" href="signin.html">Sign In</a></button>
  </div>
  <div class="inner-header">
    <h1 class="heading-of-Page">Login</h1>

  </div>
    <div class="main">
   
      <form class="Form-div">
        <input type="text" class="email" name="email" placeholder="Email"></br>
        <input type="text" class="password" name="password" placeholder="Password"></br>
        <button type="submit">Login</button>
    </form>
    </div>
    
    </div>


    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
     // import { getAuth, signInWithCustomToken } from "firebase/auth";
      import {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
    apiKey: "AIzaSyCdWSJY_WIVbMAOW8bwEpGhrn2-g6zLefM",
    authDomain: "smit-hackaton-project.firebaseapp.com",
    projectId: "smit-hackaton-project",
    storageBucket: "smit-hackaton-project.appspot.com",
    messagingSenderId: "17540766910",
    appId: "1:17540766910:web:ebbb56ad74a6896f3892ef",
    measurementId: "G-DZ1RRJ6ZFN"
  };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);  

      const auth = getAuth();

      var element=document.querySelector(".Form-div");
      element.addEventListener("submit",(event)=>{
        event.preventDefault();
        let email=document.querySelector(".email").value;
        let password=document.querySelector(".password").value;

        signInWithEmailAndPassword(auth, email, password)
       .then((userCredential) => {
         // Signed in
        const user = userCredential.user;
        console.log(user)
        alert("login successfully")
        window.location="blogposting.html";
        // ...
      })
         .catch((error) => {
         const errorCode = error.code;
          const errorMessage = error.message;
          console.log(errorMessage)
          alert("login does not occur successfully")
          // ...
        });
        
      })


      // var element=document.querySelector(".sign-up");
      // element.addEventListener("click",()=>{
      //   let name=document.querySelector(".name").value;
      //   let number=document.querySelector(".number").value;
      //   let email=document.querySelector(".email").value;
      //   let password=document.querySelector(".password").value;
      //   let password_checker=document.querySelector(".password-checker").value;
      // if(password===password_checker){
      //  createUserWithEmailAndPassword(auth, email, password)
      //  .then((userCredential) => {
      //    // Signed in
      //   const user = userCredential.user;
      //   console.log(user)
      //   alert("registration successfully")
        
      //   // ...
      // })
      //    .catch((error) => {
      //    const errorCode = error.code;
      //     const errorMessage = error.message;
      //     console.log(errorMessage)
      //     alert("registration does not occur successfully")
      //     // ...
      //   });
      //   window.location="polling.html";
      // }
      // else{
      //   alert("registration does not occur successfully")
      // }
        
      // })
    
    </script>








</body>
</html>