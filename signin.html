<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="signin.css">
    <title>Polling App</title>
    
    
</head>
<body>
  <div class="header">
    <h1 class="main-heading">Personal Blogging App</h1>
    <button class="log-in"><a class="login-link" href="login.html">Log In</a></button>
  </div>
  <div class="inner-header">
    <h1 class="heading-of-Page">Signup</h1>

  </div>

    <div class="Form-div">
     
     <br > 
      <input type="text" class="first-name" name="firstname" placeholder="First Name"></br>
      <input type="text" class="last-name" name="lastname" placeholder="Last Name"></br>
        <input type="text" class="email" name="email" placeholder="Email"></br>
        <input type="text" class="password" name="password" placeholder="Password"></br>
        <input type="text" class="password-checker" name="password-checker" placeholder="Repeat Password"></br>
        <button class="signup">Signup</button>
      <!-- <p class="sign-in">Already have an account? <b><a href="index.html">Sign Up</a></b></p> -->
     
    </form>
    </div>
    

    <!-- <button class="dummy">dummy</button> -->




    <script type="module">

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
       // import { getAuth, signInWithCustomToken } from "firebase/auth";
        import {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
    apiKey: "AIzaSyCdWSJY_WIVbMAOW8bwEpGhrn2-g6zLefM",
    authDomain: "smit-hackaton-project.firebaseapp.com",
    projectId: "smit-hackaton-project",
    storageBucket: "smit-hackaton-project.appspot.com",
    messagingSenderId: "17540766910",
    appId: "1:17540766910:web:ebbb56ad74a6896f3892ef",
    measurementId: "G-DZ1RRJ6ZFN"
  };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);  
        
        const auth = getAuth();
        var element=document.querySelector(".signup");
        element.addEventListener("click",(event)=>{
          event.preventDefault();
          let firstName=document.querySelector(".first-name").value;
          let lastName=document.querySelector(".last-name").value;
          let email=document.querySelector(".email").value;
          let password=document.querySelector(".password").value;
          let password_checker=document.querySelector(".password-checker").value;
        if(password===password_checker){
         createUserWithEmailAndPassword(auth, email, password, firstName, lastName)
         .then((userCredential) => {
           // Signed in
        const user = userCredential.user;
          console.log(user)
          console.log(user.email)
          alert("registration successfully")
          window.location="blogposting.html";
          // ...
        })
           .catch((error) => {
           const errorCode = error.code;
            const errorMessage = error.message;
            console.log(errorMessage)
            alert("registration does not occur successfully")
            // ...
          });
          
        }
        else{
          alert("registration does not occur successfully")
        }
        
        })
        







        // var element=document.querySelector(".dummy");
        // element.addEventListener("click",()=>{
      
// const auth = getAuth();
// const user = auth.currentUser;
// if (user !== null) {
//   // The user object has basic properties such as display name, email, etc.
//   const displayName = user.displayName;
//   const email = user.email;
//   const photoURL = user.photoURL;
//   const emailVerified = user.emailVerified;

//   // The user's ID, unique to the Firebase project. Do NOT use
//   // this value to authenticate with your backend server, if
//   // you have one. Use User.getToken() instead.
//   const uid = user.uid;
//   console.log(displayName,email,emailVerified,uid)
// }
//         })
      </script>
</body>
</html>